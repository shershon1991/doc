<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
    <head>
        <meta http-equiv="content-type" content="text/html;charset=utf-8" />
        <title>新建网页</title>
        <meta name="description" content="" />
        <meta name="keywords" content="" />
    </head>
    <body>
    	<h2>ajax接收服务器返回的信息</h2>
    	<input type="button" value="触发" onclick="f1()" />
    	<div id="result"></div>
    </body>
</html>

<script type="text/javascript">
    /*
    ajax对象的成员
    属性：
        responseText 以字符串形式接收服务器端返回的信息
        readyState:
            0：刚创建ajax对象
            1：已经调用open方法
            2：已经调用send方法
            3：已经返回部分数据
            4：请求完成，返回完整数据
        onreadystatechange:事件，当ajax状态readystate发生变化的时候要触发执行
            为了获得较多的状态，最好在创建好ajax对象之后就设置
            最多可以感知1/2/3/4四种状态
    方法：
        open() 创建新的http请求
        send() 把请求发送给服务器端
    */
    function f1(){
        //ajax发起请求，并接受返回的信息
        //1 创建对象
        var xhr = new XMLHttpRequest();
        //4 给ajax设置事件
        xhr.onreadystatechange = function(){
            //console.log(xhr.readyState);
            if(xhr.readyState == 4){
                //把服务器端返回的信息显示到页面上
                document.getElementById('result').innerHTML = xhr.responseText;
            }
        }
        //2 创建新的http请求
        xhr.open('get', './03.php');
        //3 发送请求
        xhr.send(null);
    }
</script>