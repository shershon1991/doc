---
title: "PHP基础(十二):异常处理和错误处理"
date: 2022-05-05 
tags: [PHP基础]
categories: [编程, PHP]
cover: false
---

### 异常处理和错误处理

程序的异常是指预先指定的程序在错误发生时，改变程序运行的正常顺序，确保程序在可控制的范围内运行。在程序运行过程中，当异常被触发时，主要做以下操作：

1. 保存当前代码的状态信息

2. 当前执行的代码会被切换到预定义的异常处理函数中

3. 有些情况下，处理器会从保存的代码状态处终止程序运行等

### 什么是异常处理和错误处理？

当运行的程序发生异常被抛出时，程序不会继续执行异常处后续的代码，PHP会尝试查找匹配的“catch”代码块。若异常没有被捕获，那么将会发生严重的错误，程序会终止或者不受控制地执行。

### error_reporting()的作用是什么？

设置PHP的错误报告级别并返回当前级别。函数原型为error_reporting(report_level)。

### 如何进行异常捕获与处理？

处理过程主要包括：

1. try块内的代码是可能会抛出异常的代码。若没有抛出异常，则代码块正常执行

2. throw用来强制抛出异常

3. catch表示具体的捕获异常的代码块，用来处理发生异常后的处理逻辑

### 如何实现自定义的异常类？

主要步骤如下：

1. 自定义的异常类继承了基类Exception，这样就具有了基类的属性和方法

2. 创建异常函数errors()，返回错误信息

3. 传递不合法的变量，执行try代码块，抛出异常

4. catch代码块捕获异常，并显示错误信息